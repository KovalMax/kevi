#!/usr/bin/env bash
set -euo pipefail

echo "[kevi] Running cargo fmt before commit..."

if ! command -v cargo >/dev/null 2>&1; then
  echo "[kevi] cargo not found in PATH; skipping cargo fmt." >&2
  exit 0
fi

# Format the workspace before committing. If formatting changes files,
# the commit will fail and you can review the diffs.
cargo fmt

echo "[kevi] cargo fmt completed successfully."
